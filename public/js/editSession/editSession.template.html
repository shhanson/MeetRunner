<script>
// $('.datepicker').pickadate({
//   selectMonths: true, // Creates a dropdown to control month
//   selectYears: 3, // Creates a dropdown of 15 years to control year,
//   today: 'Today',
//   clear: 'Clear',
//   close: 'Ok',
//   closeOnSelect: false, // Close upon selecting a date,
//   min: true,
// });

$('.timepicker').pickatime({
  default: 'now', // Set default time: 'now', '1:30AM', '16:30'
  fromnow: 0,       // set default time to * milliseconds from now (using with default = 'now')
  twelvehour: true, // Use AM/PM or 24-hour format
  donetext: 'OK', // text for done-button
  cleartext: 'Clear', // text for clear-button
  canceltext: 'Cancel', // Text for cancel-button
  autoclose: false, // automatic close timepicker
  ampmclickable: true, // make AM PM clickable
  aftershow: function(){} //Function for after opening timepicker
});


</script>

<navigation></navigation>

<main class='container'>
  <div class='row center-align'>
    <h3>Edit Session Info</h3>
    <h4> {{ $ctrl.event.title }}</h4>
    <p>* Required</p>
  </div>

  <div class='row'>
    <div class='col s12 m6 offset-m3'>
      <form name='editSessionForm' novalidate>

        <div class='row'>
          <div class="input-field col s12">
            <input id="description" type="text" class="validate" ng-model='$ctrl.session.description' required>
            <label for="description">Description*</label>
          </div>
        </div>

        <div class='row' ng-show='$ctrl.event.start_date !== $ctrl.event.end_date'>
          <!-- <div class="input-field col s12">
            <input id="date" type="text" class="datepicker" ng-model='$ctrl.session.date' required>
            <label for="date">Date*</label>
          </div> -->
          <div class='col s6'>
            <p><label for='date'>Date*</label></p>
            <input id='date' type='date' ng-model='$ctrl.date' class='validate browser-default' required>
          </div>
        </div>

        <div class='row' ng-show='$ctrl.event.start_date === $ctrl.event.end_date'>
          <!-- <div class='input-field col 12'>
            <input id='date' type='text' ng-model='$ctrl.session.date' disabled>
            <label for='date'>Date</label>
          </div> -->
          <div class='col s6'>
            <p><label for='date'>Date*</label></p>
            <input id='date' type='date' ng-model='$ctrl.date' class='validate browser-default' required disabled>
          </div>
        </div>

        <div class='row'>
          <div class="input-field col s12">
            <input id="weigh_time" type="text" class="timepicker" ng-model='$ctrl.weigh_time' required>
            <label for="weigh_time">Weigh-in Time*</label>
          </div>
        </div>

        <div class='row'>
          <div class="input-field col s12">
            <input id="start_time" type="text" class="timepicker" ng-model='$ctrl.start_time' required>
            <label for="start_time">Start Time*</label>
          </div>
        </div>

        <div class='col s12 center-align'>
          <button ng-click='$ctrl.updateSession()' class="btn waves-effect waves-light btn" type="submit" name="action" ng-disabled='editSessionForm.$invalid || editSessionForm.$pristine'>Save Changes</button>
        </div>


      </form>
    </div>
  </div>
</main>

<footerbar></footerbar>
